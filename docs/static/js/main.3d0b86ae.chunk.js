(this["webpackJsonpz1-frontend-developer"]=this["webpackJsonpz1-frontend-developer"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(15),i=c.n(s),r=(c(22),c(2)),o=(c(23),c(7)),l=c.p+"static/media/id-bg.a826b8dc.svg",d=c(1),j=function(){return Object(d.jsxs)("div",{className:"scan",children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("h1",{className:"logo",children:"BankClient"}),Object(d.jsx)("hr",{})]}),Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)("h2",{className:"title",children:"Scan your ID"}),Object(d.jsx)("p",{className:"text",children:"Take a picture. It may take time to validate your personal information."}),Object(d.jsx)("div",{className:"card-frame",children:Object(d.jsx)("img",{className:"id-image",alt:"",src:l})}),Object(d.jsx)(o.b,{to:"/cam",children:Object(d.jsx)("button",{className:"btn btn-action",children:"take picture"})})]})]})},m=c(17),h=function(e){return fetch("https://front-exercise.z1.digital/evaluations",{method:"POST",headers:{Accept:"application/json"},body:e}).then((function(e){return e.json()}))},b=c.p+"static/media/bulb-icon.4e33b28b.svg",u=c.p+"static/media/ok-icon.0a597c70.svg",x=function(){var e,t,c,n,s=Object(a.useState)(!1),i=Object(m.a)(s,2),r=i[0],l=i[1];Object(a.useEffect)((function(){var t;return navigator.mediaDevices.getUserMedia({video:{facingMode:"enviroment",width:200},audio:!1}).then((function(c){e.srcObject=c,t=c.getTracks()[0],n=setInterval(j,2e3)})).catch((function(e){window.alert("Sorry! Could not access to your camera")})),function(){n&&clearInterval(n),t&&t.stop()}}),[]);var j=function(){var a=e.videoWidth,s=e.videoHeight;t.width=a,t.height=s,c.drawImage(e,0,0,a,s);var i=t.toDataURL("image/jpeg");h(i).then((function(e){"Approved"===e.summary.outcome&&(clearInterval(n),l(!0))}))};return Object(d.jsx)("div",{className:"camera",children:Object(d.jsxs)("main",{className:"main",children:[Object(d.jsx)("h2",{className:"title",children:"Take picture"}),Object(d.jsx)("p",{className:"text",children:"Fit your ID card inside the frame. The picture will be taken automatically."}),Object(d.jsxs)("div",{className:"camera-frame "+(r?"accepted":"rejected"),children:[Object(d.jsx)("video",{className:r?"hidden":"",ref:function(t){return e=t},autoPlay:!0}),Object(d.jsx)("canvas",{className:r?"":"hidden",ref:function(e){(t=e)&&(c=t.getContext("2d"))}})]}),Object(d.jsxs)("div",{className:"message",children:[Object(d.jsx)("img",{className:"icon",alt:"",src:r?u:b}),Object(d.jsx)("p",{className:"text",children:r?"Picture taken!":"Room lighting is too low"})]}),Object(d.jsx)(o.b,{to:"/",children:Object(d.jsx)("button",{className:"btn btn-cancel",children:"cancel"})})]})})};var O=function(){return Object(d.jsx)("div",{className:"app",children:Object(d.jsxs)(r.c,{children:[Object(d.jsx)(r.a,{exact:!0,path:"/",component:j}),Object(d.jsx)(r.a,{exact:!0,path:"/cam",component:x})]})})},p=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,31)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(o.a,{children:Object(d.jsx)(O,{})})}),document.getElementById("root")),p()}},[[30,1,2]]]);
//# sourceMappingURL=main.3d0b86ae.chunk.js.map