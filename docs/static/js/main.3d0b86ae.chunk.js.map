{"version":3,"sources":["images/id-bg.svg","components/Scan.tsx","services/checkPhotoValidity.tsx","images/bulb-icon.svg","images/ok-icon.svg","components/Camera.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Scan","className","alt","src","Id","to","checkPhotoValidity","imageData","fetch","method","headers","Accept","body","then","response","json","Camera","videoObject","canvasObject","canvasContext","timer","useState","accepted","setAccepted","useEffect","track","navigator","mediaDevices","getUserMedia","video","facingMode","width","audio","localMediaStream","srcObject","getTracks","setInterval","shoot","catch","error","window","alert","clearInterval","stop","videoWidth","height","videoHeight","drawImage","toDataURL","data","summary","outcome","ref","videoRef","autoPlay","canvasRef","getContext","Ok","Bulb","App","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d0b86ae.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/id-bg.a826b8dc.svg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Id from '../images/id-bg.svg';\n\nconst Scan = () => {\n    return (\n        <div className=\"scan\">\n            <header className=\"header\">\n                <h1 className=\"logo\">BankClient</h1>\n                <hr />\n            </header>\n            <main className=\"main\">\n                <h2 className=\"title\">Scan your ID</h2>\n                <p className=\"text\">\n                    Take a picture. It may take time to validate your personal\n                    information.\n                </p>\n                <div className=\"card-frame\">\n                    <img className=\"id-image\" alt=\"\" src={Id} />\n                </div>\n                <Link to=\"/cam\">\n                    <button className=\"btn btn-action\">take picture</button>\n                </Link>\n            </main>\n        </div>\n    );\n};\n\nexport default Scan;\n","const checkPhotoValidity = (imageData: any) => {\n    return fetch('https://front-exercise.z1.digital/evaluations', {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            // 'Content-Type': 'image/jpeg',\n        },\n        body: imageData,\n    }).then((response) => response.json());\n};\n\nexport default checkPhotoValidity;\n","export default __webpack_public_path__ + \"static/media/bulb-icon.4e33b28b.svg\";","export default __webpack_public_path__ + \"static/media/ok-icon.0a597c70.svg\";","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport checkPhotoValidity from '../services/checkPhotoValidity';\nimport Bulb from '../images/bulb-icon.svg';\nimport Ok from '../images/ok-icon.svg';\n\nconst Camera = () => {\n    let videoObject: any;\n    let canvasObject: any;\n    let canvasContext: any;\n    let timer: any;\n\n    const [accepted, setAccepted] = useState(false);\n\n    useEffect(() => {\n        let track: any;\n        navigator.mediaDevices\n            .getUserMedia({\n                video: {\n                    facingMode: 'enviroment',\n                    width: 200,\n                },\n                audio: false,\n            })\n            .then((localMediaStream) => {\n                videoObject.srcObject = localMediaStream;\n                track = localMediaStream.getTracks()[0];\n                timer = setInterval(shoot, 2000);\n            })\n            .catch((error) => {\n                window.alert('Sorry! Could not access to your camera');\n            });\n        return function cleanUp() {\n            if (timer) clearInterval(timer);\n            if (track) {\n                track.stop();\n            }\n        };\n    }, []);\n\n    const shoot = () => {\n        //define size\n        const width = videoObject.videoWidth;\n        const height = videoObject.videoHeight;\n        canvasObject.width = width;\n        canvasObject.height = height;\n        //save image data\n        canvasContext.drawImage(videoObject, 0, 0, width, height);\n        let imageData: any = canvasObject.toDataURL('image/jpeg');\n        checkPhotoValidity(imageData).then((data) => {\n            if (data.summary.outcome === 'Approved') {\n                clearInterval(timer);\n                setAccepted(true);\n            }\n        });\n    };\n\n    return (\n        <div className=\"camera\">\n            <main className=\"main\">\n                <h2 className=\"title\">Take picture</h2>\n                <p className=\"text\">\n                    Fit your ID card inside the frame. The picture will be taken\n                    automatically.\n                </p>\n                <div\n                    className={\n                        'camera-frame ' + (accepted ? 'accepted' : 'rejected')\n                    }\n                >\n                    <video\n                        className={accepted ? 'hidden' : ''}\n                        ref={(videoRef) => (videoObject = videoRef)}\n                        autoPlay\n                    ></video>\n                    <canvas\n                        className={accepted ? '' : 'hidden'}\n                        ref={(canvasRef) => {\n                            canvasObject = canvasRef;\n                            if (canvasObject)\n                                canvasContext = canvasObject.getContext('2d');\n                        }}\n                    ></canvas>\n                </div>\n                <div className=\"message\">\n                    <img className=\"icon\" alt=\"\" src={accepted ? Ok : Bulb} />\n                    <p className=\"text\">\n                        {accepted\n                            ? 'Picture taken!'\n                            : 'Room lighting is too low'}\n                    </p>\n                </div>\n                <Link to=\"/\">\n                    <button className=\"btn btn-cancel\">cancel</button>\n                </Link>\n            </main>\n        </div>\n    );\n};\n\nexport default Camera;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport './App.css';\n\nimport Scan from './components/Scan';\nimport Camera from './components/Camera';\n\nfunction App() {\n    return (\n        <div className=\"app\">\n            <Switch>\n                <Route exact path=\"/\" component={Scan} />\n                <Route exact path=\"/cam\" component={Camera} />\n            </Switch>\n        </div>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <App />\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}